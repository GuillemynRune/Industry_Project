<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postnatal Stories - You're Not Alone</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">Postnatal Stories</div>
            <div class="nav-section">
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#share">Share</a></li>
                    <li><a href="#stories">Stories</a></li>
                    <li><a href="#support">Support</a></li>
                </ul>
                <div class="nav-controls">
                    <div class="user-section" id="userSection"></div>
                    <button class="theme-toggle-nav" id="themeToggleNav" title="Toggle dark/light mode">
                        üåô
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero" id="home">
            <div class="container">
                <h1>You're Not Alone</h1>
                <p>Share your postnatal journey, find stories that resonate with you, and connect with a supportive community of parents who understand.</p>
                <div class="cta-buttons">
                    <button class="btn btn-primary" onclick="startGuidedStory()">Share Your Story</button>
                    <button class="btn btn-secondary" onclick="scrollToSection('stories')">Read Stories</button>
                </div>
            </div>
        </section>

        <div class="container main-content">

            <!-- Share Story Section -->
            <section class="share-story-section" id="share">
                <h2>Share Your Recovery Story</h2>
                <p>Your experience matters. Help others by sharing your journey through postnatal challenges and recovery.</p>
                <div class="share-btn-container">
                    <button class="share-story-btn" onclick="startGuidedStory()">
                        ‚ú® Start Story Creation
                    </button>
                </div>
            </section>

            <!-- Stories Section -->
            <section class="stories-section" id="stories">
                <h2>Stories from Our Community</h2>
                
                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Describe what you're going through... (e.g., 'feeling overwhelmed', 'sleep deprivation', 'anxiety')" id="searchInput">
                    <button class="btn btn-primary" onclick="searchSimilarStories()">Find Similar Stories</button>
                </div>
                
                <div class="stories-carousel" id="storiesCarousel">
                    <div class="stories-track" id="storiesTrack"></div>
                </div>
                
                <div class="carousel-controls">
                    <button class="carousel-btn" id="prevBtn">‚Äπ</button>
                    <div class="carousel-dots" id="dotsContainer"></div>
                    <button class="carousel-btn" id="nextBtn">‚Ä∫</button>
                </div>
            </section>

            <!-- How It Works -->
            <section class="how-it-works">
                <h2>How It Works</h2>
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-icon">üìù</div>
                        <h3>Share Your Experience</h3>
                        <p>Create an account and tell us about your journey in your own words. All stories are reviewed before publication.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">‚ú®</div>
                        <h3>AI Creates Your Story</h3>
                        <p>Our AI transforms your experience into a beautiful, readable story while preserving your truth.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">ü§ù</div>
                        <h3>Find Your Tribe</h3>
                        <p>Find with others who've walked similar paths and find comfort in shared experiences.</p>
                    </div>
                </div>
            </section>

            <!-- Crisis Support Section -->
            <section class="crisis-support-section" id="support">
                <h2>Support Resources</h2>
                <div class="crisis-info-card">
                    <h3>Need immediate help?</h3>
                    <p>If you're experiencing thoughts of self-harm or are in crisis, please reach out:</p>
                    <div class="crisis-numbers">
                        <div class="crisis-number">
                            <strong>988</strong>
                            <span>Suicide & Crisis Lifeline (24/7)</span>
                        </div>
                        <div class="crisis-number">
                            <strong>1-800-944-4773</strong>
                            <span>Postpartum Support International</span>
                        </div>
                    </div>
                    <button class="btn btn-secondary" onclick="showCrisisResources()">View All Resources</button>
                </div>
            </section>

            <!-- Moderation Section -->
            <section class="moderation-section" id="moderationSection" style="display: none;">
                <h2>Story Moderation</h2>
                
                <div class="moderation-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="pendingCount">0</div>
                        <div class="stat-label">Pending Stories</div>
                    </div>
                </div>
                <div class="moderation-actions">
                    <button class="btn btn-secondary" onclick="refreshModerationStats()">
                        Refresh Count
                    </button>
                </div>

                <div class="pending-stories-grid" id="pendingStoriesGrid"></div>
            </section>
        </div>
    </main>

    <!-- Modals -->
    <div id="crisisModal" class="modal">
        <div class="modal-content crisis-modal">
            <span class="close" onclick="closeModal('crisisModal')">&times;</span>
            <h2>üö® Immediate Crisis Support</h2>
            <p><strong>If you're in immediate danger, call 911 or go to your nearest emergency room.</strong></p>
            
            <div class="crisis-resources">
                <div class="crisis-resource">
                    <h4>National Suicide Prevention Lifeline</h4>
                    <div class="phone">988</div>
                    <p>24/7 crisis support and suicide prevention</p>
                </div>
                <div class="crisis-resource">
                    <h4>Postpartum Support International</h4>
                    <div class="phone">1-800-944-4773</div>
                    <p>24/7 helpline for perinatal mental health</p>
                </div>
                <div class="crisis-resource">
                    <h4>Crisis Text Line</h4>
                    <div class="phone">Text HOME to 741741</div>
                    <p>24/7 crisis support via text message</p>
                </div>
            </div>
            
            <h3>Warning Signs That Need Immediate Attention:</h3>
            <ul>
                <li>Thoughts of harming yourself or your baby</li>
                <li>Feeling like you might hurt yourself</li>
                <li>Thoughts of suicide or death</li>
                <li>Severe anxiety or panic attacks</li>
                <li>Feeling completely unable to cope</li>
            </ul>
            
            <p class="disclaimer">Remember: Seeking help is a sign of strength, not weakness.</p>
        </div>
    </div>

    <div id="shareModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('shareModal')">&times;</span>
            <h2>Share Your Recovery Story</h2>
            <p>Your story will be reviewed by our team before publication to ensure it's supportive and appropriate for our community.</p>
            
            <form id="shareForm">
                <div class="form-group">
                    <label for="authorName">Your Name (optional, can be anonymous)</label>
                    <input type="text" id="authorName" placeholder="How would you like to be known?">
                </div>
                <div class="form-group">
                    <label for="challenge">What challenge did you face?</label>
                    <textarea id="challenge" placeholder="Describe the postnatal challenge you experienced (e.g., postpartum depression, anxiety, sleep deprivation, bonding difficulties, etc.)" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="experience">Tell us about your experience</label>
                    <textarea id="experience" placeholder="What was it like? How did it affect your daily life? How long did it last? Be specific about your journey." rows="6"></textarea>
                </div>
                <div class="form-group">
                    <label for="solution">What helped you recover?</label>
                    <textarea id="solution" placeholder="What strategies, treatments, support, or changes helped you get through this? What would you recommend to others?" rows="6"></textarea>
                </div>
                <div class="form-group">
                    <label for="advice">Your advice to others</label>
                    <textarea id="advice" placeholder="What would you tell someone going through the same thing? Any words of encouragement or practical tips?" rows="4"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Submit Story for Review</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('shareModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('forgotPasswordModal')">&times;</span>
            <h2>üîê Reset Your Password</h2>
            <p>Enter your email address and we'll send you instructions to reset your password.</p>
            
            <form id="forgotPasswordForm">
                <div class="form-group">
                    <label for="forgotEmail">Email Address</label>
                    <input type="email" id="forgotEmail" required placeholder="Enter your email address">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Send Reset Instructions</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('forgotPasswordModal')">Cancel</button>
                </div>
            </form>
            
            <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid rgba(168, 216, 234, 0.3);">
                <p style="color: var(--text-light); font-size: 0.9rem;">
                    Remember your password? <a href="#" onclick="closeModal('forgotPasswordModal'); switchAuth('login'); scrollToSection('authSection');" style="color: var(--deep-blue); font-weight: 600;">Back to Login</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Reset Password Modal -->
    <div id="resetPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('resetPasswordModal')">&times;</span>
            <h2>üîë Create New Password</h2>
            <p>Enter your new password below. Make it strong and memorable!</p>
            
            <form id="resetPasswordForm">
                <input type="hidden" id="resetToken">
                
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" required minlength="8" placeholder="Enter your new password">
                    <div class="password-requirements">
                        <small style="color: var(--text-light);">Password must be at least 8 characters and contain letters and numbers</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Confirm New Password</label>
                    <input type="password" id="confirmPassword" required minlength="8" placeholder="Confirm your new password">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Update Password</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('resetPasswordModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Postnatal Stories. A safe space for shared experiences. Remember: You are not alone, and seeking help is a sign of strength.</p>
            <p>
                <a href="#" onclick="showTerms()">Terms of Service</a> | 
                <a href="#" onclick="showPrivacy()">Privacy Policy</a> | 
                <a href="#" onclick="showCrisisResources()">Crisis Resources</a>
            </p>
            <p class="disclaimer">This platform provides peer support and shared experiences. It is not a substitute for professional medical advice, diagnosis, or treatment.</p>
        </div>
    </footer>

    <!-- Add this before </body> -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('authModal')">&times;</span>
            
            <div class="auth-toggle">
                <button onclick="switchAuth('login')" id="loginTab" class="auth-tab active">Login</button>
                <button onclick="switchAuth('register')" id="registerTab" class="auth-tab">Sign Up</button>
            </div>

            <form id="loginForm" class="auth-form">
                <h2>Welcome Back</h2>
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Login</button>
                </div>
                <div class="forgot-password-link">
                    <a href="#" onclick="showForgotPasswordModal()" class="forgot-link">Forgot your password?</a>
                </div>
            </form>

            <form id="registerForm" class="auth-form" style="display: none;">
                <h2>Join Our Community</h2>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password (min 8 characters)</label>
                    <input type="password" id="registerPassword" required minlength="8">
                </div>
                <div class="form-group">
                    <label for="displayName">Display Name (optional)</label>
                    <input type="text" id="displayName" placeholder="How you'd like to be known">
                </div>
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="ageVerification" required>
                        I confirm that I am 18 years of age or older
                    </label>
                </div>
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="termsAgreement" required>
                        I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                    </label>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Create Account</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/stories.js"></script>
    <script src="js/moderation.js"></script>
    <script src="js/guided-prompts.js"></script>
    <script src="js/speech-recognition.js"></script>
</body>
</html>